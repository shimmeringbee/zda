{
  "Name": "zcl",
  "Rules": [
    {
      "Filter": "any(values(Product), {.Name != nil })",
      "Actions": {
        "Capabilities": {
          "Add": {
            "GenericProductInformation": {
              "Name": "find(values(Product), {.Name != nil }).Name",
              "Manufacturer": "find(values(Product), {.Manufacturer != nil }).Manufacturer",
              "Version": "find(values(Product), {.Version != nil }).Version",
              "Serial": "find(values(Product), {.Serial != nil }).Serial"
            }
          }
        }
      }
    },
    {
      "Filter": "(0x0001 in Endpoint[Self].InClusters)",
      "Actions": {
        "Capabilities": {
          "Add": {
            "ZCLPowerSupply": {
              "ZigbeePowerClusterID": "Fn.ClusterID(0x0001)",
              "ZigbeeEndpoint": "Fn.Endpoint(Self)"
            }
          }
        }
      }
    },
    {
      "Filter": "(0x0006 in Endpoint[Self].InClusters)",
      "Actions": {
        "Capabilities": {
          "Add": {
            "ZCLOnOff": {
              "ZigbeeOnOffClusterID": "Fn.ClusterID(0x0006)",
              "ZigbeeEndpoint": "Fn.Endpoint(Self)"
            }
          }
        }
      }
    },
    {
      "Filter": "(0x0006 in Endpoint[Self].InClusters) && ((0x0300 in Endpoint[Self].InClusters) || (0x0008 in Endpoint[Self].InClusters))",
      "Actions": {
        "Capabilities": {
          "Add": {
            "ZCLLight": {
              "ZigbeeOnOffClusterPresent": "(0x0006 in Endpoint[Self].InClusters)",
              "ZigbeeOnOffClusterID": "Fn.ClusterID(0x0006)",
              "ZigbeeColorClusterPresent": "(0x0300 in Endpoint[Self].InClusters)",
              "ZigbeeColorClusterID": "Fn.ClusterID(0x0300)",
              "ZigbeeLevelClusterPresent": "(0x0008 in Endpoint[Self].InClusters)",
              "ZigbeeLevelClusterID": "Fn.ClusterID(0x0008)",
              "ZigbeeEndpoint": "Fn.Endpoint(Self)"
            }
          },
          "Remove": {
            "ZCLOnOff": {}
          }
        }
      }
    },
    {
      "Filter": "(0x0402 in Endpoint[Self].InClusters)",
      "Actions": {
        "Capabilities": {
          "Add": {
            "ZCLTemperatureSensor": {
              "ZigbeeTemperatureSensorClusterID": "Fn.ClusterID(0x0402)",
              "ZigbeeEndpoint": "Fn.Endpoint(Self)"
            }
          }
        }
      }
    },
    {
      "Filter": "(0x0404 in Endpoint[Self].InClusters)",
      "Actions": {
        "Capabilities": {
          "Add": {
            "ZCLPressureSensor": {
              "ZigbeePressureSensorClusterID": "Fn.ClusterID(0x0404)",
              "ZigbeeEndpoint": "Fn.Endpoint(Self)"
            }
          }
        }
      }
    },
    {
      "Filter": "(0x0405 in Endpoint[Self].InClusters)",
      "Actions": {
        "Capabilities": {
          "Add": {
            "ZCLHumiditySensor": {
              "ZigbeeHumiditySensorClusterID": "Fn.ClusterID(0x0405)",
              "ZigbeeEndpoint": "Fn.Endpoint(Self)"
            }
          }
        }
      }
    },
    {
      "Filter": "(0x0500 in Endpoint[Self].InClusters)",
      "Actions": {
        "Capabilities": {
          "Add": {
            "ZCLAlarmSensor": {
              "ZigbeeAlarmSensorClusterID": "Fn.ClusterID(0x0500)",
              "ZigbeeEndpoint": "Fn.Endpoint(Self)"
            }
          }
        }
      }
    },
    {
      "Filter": "(0x0502 in Endpoint[Self].InClusters)",
      "Actions": {
        "Capabilities": {
          "Add": {
            "ZCLAlarmWarningDevice": {
              "ZigbeeAlarmWarningDeviceClusterID": "Fn.ClusterID(0x0502)",
              "ZigbeeEndpoint": "Fn.Endpoint(Self)"
            }
          }
        }
      }
    }
  ]
}